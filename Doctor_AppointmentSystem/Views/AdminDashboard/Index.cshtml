@model Doctor_AppointmentSystem.ViewModels.AdminDashboardViewModel

@{
    ViewData["Title"] = "Admin Dashboard";
    Layout = "~/Views/Shared/_Layout_Admin.cshtml";
}

<!-- TOP STATS -->
<div class="stats-grid">
    <div class="card stat-card" data-url="@Url.Action("Index", "AdminProfile")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">System Admin</div>
                <div class="stat-value">@Model.TotalAdmins</div>
            </div>
            
            <div class="stat-icon">🛡️</div>
        </div>
        <div class="stat-sub"> system administrator</div>
    </div>

    <div class="card stat-card" data-url="@Url.Action("Index", "AdminDoctor")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">Total Doctor</div>
                <div class="stat-value">@Model.TotalDoctors</div>
            </div>
            <div class="stat-icon">🩺</div>
        </div>
        <div class="stat-sub">Across all specialties</div>
    </div>

    <div class="card stat-card" data-url="@Url.Action("Index", "AdminReceptionist")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">Total Receptionist</div>
                <div class="stat-value">@Model.TotalReceptionists</div>
            </div>
            <div class="stat-icon">📞</div>
        </div>
        <div class="stat-sub">Handling front-desk &amp; booking</div>
    </div>

  


    <div class="card stat-card" data-url="@Url.Action("Index", "AdminPatient")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">Total Registered Patient</div>
                <div class="stat-value">@Model.TotalPatients</div>
            </div>
            <div class="stat-icon">🧑‍🤝‍🧑</div>
        </div>
        <div class="stat-sub">Active patient profiles</div>
    </div>

    <div class="card stat-card" data-url="@Url.Action("Index", "AdminSpecialty")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">Total Specialties</div>
                <div class="stat-value">@Model.TotalSpecialties</div>
            </div>
            <div class="stat-icon">📚</div>
        </div>
        <div class="stat-sub">Distinct medical departments</div>
    </div>

    <div class="card stat-card" data-url="@Url.Action("Appointments", "AdminDashboard")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">Total Appointments</div>
                <div class="stat-value">@Model.TotalAppointments</div>
            </div>
            <div class="stat-icon">📋</div>
        </div>
        <div class="stat-sub">All-time booked appointments</div>
    </div>

    <div class="card stat-card" data-url="@Url.Action("TodayAppointments", "AdminDashboard")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">Today's Appointments</div>
                <div class="stat-value">@Model.TodaysAppointments</div>
            </div>
            <div class="stat-icon">⏰</div>
        </div>
        <div class="stat-sub">Scheduled for today</div>
    </div>

    <div class="card stat-card" data-url="@Url.Action("Payments", "AdminDashboard")">
        <div class="stat-card-header">
            <div>
                <div class="stat-title">Monthly Revenue</div>
                <div class="stat-value">৳@Model.MonthlyRevenue.ToString("0")</div>
            </div>
            <div class="stat-icon">💳</div>
        </div>
        <div class="stat-sub">From all digital payments</div>
    </div>
</div>

<!-- CHARTS (Revenue = BAR, Appointments = LINE) -->
<div class="charts-grid">
    <!-- Monthly Revenue Trend -->
    <div class="card">
        <div class="card-title-row">
            <div>
                <h3>Monthly Revenue Trend</h3>
                <div class="card-title-sub">Current year total revenue by month</div>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="revenueChart"></canvas>
        </div>
    </div>

    <!-- Appointment Trends -->
    <div class="card">
        <div class="card-title-row">
            <div>
                <h3>Appointment Trends</h3>
                <div class="card-title-sub">Monthly total appointments</div>
            </div>
        </div>
        <div class="chart-container">
            <canvas id="appointmentChart"></canvas>
        </div>
    </div>
</div>

<!-- LOWER GRID: Today’s Appointments + Recent System Activity -->
<div class="lower-grid">
    <!-- Today's Appointments -->
    <div class="card">
        <div class="card-title-row">
            <div>
                <h3>Today's Appointments</h3>
                <div class="card-title-sub">Live list of booked visits</div>
            </div>
            <span class="link-small">View All</span>
        </div>

        <table class="table-simple">
            <thead>
                <tr>
                    <th>TIME</th>
                    <th>PATIENT</th>
                    <th>DOCTOR</th>
                    <th>SPECIALTY</th>
                    <th>STATUS</th>
                </tr>
            </thead>
            <tbody>
                <tr>
                    <td>09:30 AM</td>
                    <td>Md. Rahim</td>
                    <td>Dr. Ahmed</td>
                    <td>Cardiology</td>
                    <td><span class="status-pill status-pill--confirmed">Confirmed</span></td>
                </tr>
                <tr>
                    <td>10:15 AM</td>
                    <td>Sadia K.</td>
                    <td>Dr. Nabila</td>
                    <td>Dermatology</td>
                    <td><span class="status-pill status-pill--completed">Completed</span></td>
                </tr>
                <tr>
                    <td>11:00 AM</td>
                    <td>Jamal U.</td>
                    <td>Dr. Hasan</td>
                    <td>Orthopedics</td>
                    <td><span class="status-pill status-pill--cancelled">Cancelled</span></td>
                </tr>
                <tr>
                    <td>12:30 PM</td>
                    <td>Rafiq A.</td>
                    <td>Dr. Tania</td>
                    <td>Pediatrics</td>
                    <td><span class="status-pill status-pill--noshow">No Show</span></td>
                </tr>
                <tr>
                    <td>02:00 PM</td>
                    <td>Nasrin S.</td>
                    <td>Dr. Imran</td>
                    <td>Neurology</td>
                    <td><span class="status-pill status-pill--rescheduled">Rescheduled</span></td>
                </tr>
            </tbody>
        </table>
    </div>

    <!-- Recent System Activity -->
    <div class="card">
        <div class="card-title-row">
            <div>
                <h3>Recent System Activity</h3>
                <div class="card-title-sub">Latest events in the system</div>
            </div>
            <div class="revenue-change-badge">+12% vs last month</div>
        </div>

        <div class="activity-revenue-block">
            <div class="activity-revenue-label">This Month's Revenue</div>
            <div class="activity-revenue-value">৳ 1,820,000</div>
        </div>

        <div class="activity-feed">
            <div class="activity-item">
                <span class="activity-dot activity-dot--blue"></span>
                <div class="activity-main">
                    New doctor <strong>Dr. Farhana (Cardiology)</strong> registered.
                    <div class="activity-time">5 mins ago</div>
                </div>
            </div>
            <div class="activity-item">
                <span class="activity-dot activity-dot--green"></span>
                <div class="activity-main">
                    12 appointments auto-confirmed for tomorrow.
                    <div class="activity-time">25 mins ago</div>
                </div>
            </div>
            <div class="activity-item">
                <span class="activity-dot activity-dot--orange"></span>
                <div class="activity-main">
                    3 appointments cancelled by patients (email &amp; SMS sent).
                    <div class="activity-time">1 hour ago</div>
                </div>
            </div>
            <div class="activity-item">
                <span class="activity-dot activity-dot--purple"></span>
                <div class="activity-main">
                    Bkash settlement received for yesterday's payments.
                    <div class="activity-time">2 hours ago</div>
                </div>
            </div>
        </div>
    </div>
</div>
